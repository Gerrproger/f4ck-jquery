!function(){"use strict";function t(t){return 1===t.length?t[0].split(/\s/g):t}function e(t){return r(t.length)&&(t=[t]),Array.prototype.slice.call(t)}function n(t,e){return Object.keys(t).forEach(e)}function r(t){return void 0===t}function o(t){return o.ajax=new c,o.create=new u,o.proto=s.prototype,o.version=.1,new s(t)}var i=document,a={},s=function(t){return this.length=0,this._addArrayProtos(),this.init(t)};s.prototype.init=function(t){if(this.find(t),"function"==typeof t){var e=i.readyState;"interactive"===e||"complete"===e?t.apply(i):this.on("DOMContentLoaded",t)}return this},s.prototype._addArrayProtos=function(){var t=Object.getOwnPropertyNames(Array.prototype);return n(t,function(e){var n=t[e];switch(n){case"length":case"constructor":break;case"find":s.prototype.findIn=Array.prototype[n];break;default:s.prototype[n]=Array.prototype[n]}}),this},s.prototype._fill=function(t){return this.forEach(function(t,e){delete this[e]},this),t=t.filter(function(e,n){return t.indexOf(e)===n}),t.forEach(function(t,e){this[e]=t},this),this.length=t.length,this},s.prototype.find=function(t){function n(){var n=o.length?o:[i];n.forEach(function(n){var r=e(n.querySelectorAll(t));r.length&&(a=a.concat(r))})}function r(t){a=e(t)}var o=this,a=[];switch(typeof t){case"string":n();break;case"object":t instanceof HTMLElement||t instanceof NodeList?t===i.body?r(t):n():r(t instanceof HTMLDocument?t:i);break;default:r(i)}return this._fill(a)},s.prototype.on=function(t,e,n){return r(n)&&(n="default"),this.forEach(function(r){a[r]?a[r][t]?a[r][t][n]?a[r][t][n].push(e):a[r][t][n]=[e]:(a[r][t]={},a[r][t][n]=[e]):(a[r]={},a[r][t]={},a[r][t][n]=[e]),r.addEventListener(t,e)}),this},s.prototype.off=function(t,e){var o=r(e);return this.forEach(function(r){a[r]&&(t?o?(n(a[r][t],function(e){a[r][t][e].forEach(function(e){r.removeEventListener(t,e)})}),delete a[r][t]):a[r][t][e]&&(a[r][t][e].forEach(function(e){r.removeEventListener(t,e)}),delete a[r][t][e]):o?(n(a[r],function(t){n(a[r][t],function(e){a[r][t][e].forEach(function(e){r.removeEventListener(t,e)})})}),delete a[r]):n(a[r],function(t){a[r][t][e]&&(a[r][t][e].forEach(function(e){r.removeEventListener(t,e)}),delete a[r][t][e])}))}),this},s.prototype.parent=function(t){var e,n=[];return r(t)||(e=new s(t)),this.forEach(function(o){if(r(t))n.push(o.parentElement);else for(;(o=o.parentElement)&&!e.some(function(t){return t===o?(n.push(t),!0):void 0}););}),this._fill(n)},s.prototype.html=function(t){var e=[];return this.forEach(function(n){r(t)?e.push(n.innerHTML.trim()):n.innerHTML=t}),1===e.length&&(e=e[0]),r(t)?e:this},s.prototype.text=function(t){var e=[];return this.forEach(function(n){r(t)?e.push(n.textContent.trim()):n.textContent=t}),1===e.length&&(e=e[0]),r(t)?e:this},s.prototype.remove=function(){return this.forEach(function(t){t.parentElement.removeChild(t)}),this},s.prototype.addClass=function(){var e=t(arguments);return this.forEach(function(t){t.classList.add.apply(t.classList,e)}),this},s.prototype.removeClass=function(){var e=t(arguments);return this.forEach(function(t){t.classList.remove.apply(t.classList,e)}),this},s.prototype.hasClass=function(t){var e=[],n=!0;return this.forEach(function(r){var o=r.classList.contains(t);e.push(o),o||(n=o)}),n?e=n:1===e.length&&(e=e[0]),e},s.prototype.toggleClass=function(t){return this.forEach(function(e){e.classList.toggle(t)}),this};var u=function(){return function(t){var e=(new DOMParser).parseFromString(t,"text/html");return new s(e).find("body > *")}},c=function(){return function(t,e,o){function i(t){var e=t.responseText;if("auto"===a.dataType){var n=t.getResponseHeader("Content-Type").split(/;/)[0];switch(n){case"text/html":a.dataType="html";break;case"application/json":a.dataType="json";break;case"text/plain":a.dataType="text"}}switch(a.dataType){case"html":return(new u)(e);case"json":return JSON.parse(e);case"text":default:return e}}var a={method:t.method||"GET",body:r(t.body)?null:t.body,timeout:t.timeout||1e4,dataType:t.dataType||"auto"},c=new XMLHttpRequest;return t.params&&(t.url.match(/\?/)?t.url+="&":t.url+="?",t.url+=Object.keys(t.params).map(function(e){return e+"="+encodeURIComponent(t.params[e])}).join("&")),c.open(a.method,t.url,!0,t.user,t.password),c.timeout=a.timeout,t.form&&(c.setRequestHeader("Content-Type","multipart/form-data; charset=UTF-8"),null===a.body&&(a.body=new FormData(new s(t.form)[0]))),t.headers&&n(t.headers,function(e){c.setRequestHeader(e,t.headers[e])}),t.overrideMimeType&&c.overrideMimeType(t.overrideMimeType),t.beforeSend&&t.beforeSend(c),c.send(a.body),c.onreadystatechange=function(){4===c.readyState&&(200===c.status&&e?e(c,i(c)):o&&o(c))},this}};window.f4=o}();