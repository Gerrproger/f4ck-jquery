/*!
 * F4ck jquery
 * @version  v0.3.1
 * @author   Gerrproger
 * Website:  http://gerrproger.github.io/f4ck-jquery
 * Repo:     http://github.com/gerrproger/f4ck-jquery
 * Issues:   http://github.com/gerrproger/f4ck-jquery/issues
 */
!function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e(t,document):"function"==typeof define&&define.amd?define(null,function(){e(t,document)}):t.f4=e(t,document)}("undefined"!=typeof window?window:this,function(t,e){"use strict";function n(t){return 1===t.length?t[0].split(/\s/g):t}function r(t){return i(t.length)&&(t=[t]),Array.prototype.slice.call(t)}function o(t,e){return Object.keys(t).forEach(e)}function i(t){return void 0===t}function a(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function s(t){return t.replace(/-([a-z])/g,function(t){return t[1].toUpperCase()})}function u(t){try{return JSON.parse(t)}catch(e){return t}}var c=e,f=t.f4Browser,h={},d=function(t){return!f||f.good?(this.length=0,this._addArrayProtos(),this.init(t)):void 0},l=d.prototype;l.init=function(t){return this.find(t),"function"==typeof t&&("complete"===c.readyState?t.apply(c):this.on("DOMContentLoaded",t)),this},l._addArrayProtos=function(){var t=Object.getOwnPropertyNames(Array.prototype);return o(t,function(e){var n=t[e];switch(n){case"length":case"constructor":break;case"find":l.findIn=Array.prototype[n];break;default:l[n]=Array.prototype[n]}}),this},l._fill=function(t){return this.forEach(function(t,e){delete this[e]},this),t=t.filter(function(e,n){return t.indexOf(e)===n}),t.forEach(function(t,e){this[e]=t},this),this.length=t.length,this},l.find=function(t){function e(){var e=o.length?o:[c];e.forEach(function(e){var n=r(e.querySelectorAll(t));n.length&&(i=i.concat(n))})}function n(t){i=r(t)}var o=this,i=[],a=a||Document;switch(typeof t){case"string":e();break;case"object":n(t instanceof HTMLElement||t instanceof NodeList||t instanceof a?t:c);break;default:n(c)}return this._fill(i)},l.on=function(t,e,n){return i(n)&&(n="default"),this.forEach(function(r){h[r]?h[r][t]?h[r][t][n]?h[r][t][n].push(e):h[r][t][n]=[e]:(h[r][t]={},h[r][t][n]=[e]):(h[r]={},h[r][t]={},h[r][t][n]=[e]),r.addEventListener(t,e)}),this},l.off=function(t,e){var n=i(e);return this.forEach(function(r){h[r]&&(t?n?(o(h[r][t],function(e){h[r][t][e].forEach(function(e){r.removeEventListener(t,e)})}),delete h[r][t]):h[r][t][e]&&(h[r][t][e].forEach(function(e){r.removeEventListener(t,e)}),delete h[r][t][e]):n?(o(h[r],function(t){o(h[r][t],function(e){h[r][t][e].forEach(function(e){r.removeEventListener(t,e)})})}),delete h[r]):o(h[r],function(t){h[r][t][e]&&(h[r][t][e].forEach(function(e){r.removeEventListener(t,e)}),delete h[r][t][e])}))}),this},l.parent=function(t){var e,n=[];return i(t)||(e=new d(t)),this.forEach(function(r){if(i(t))n.push(r.parentElement);else for(;(r=r.parentElement)&&!e.some(function(t){return t===r?(n.push(t),!0):void 0}););}),this._fill(n)},l.html=function(t){var e=[];return this.forEach(function(n){i(t)?e.push(n.innerHTML.trim()):n.innerHTML=t}),1===e.length&&(e=e[0]),i(t)?e:this},l.text=function(t){var e=[];return this.forEach(function(n){i(t)?e.push(n.textContent.trim()):n.textContent=t}),1===e.length&&(e=e[0]),i(t)?e:this},l.attr=function(t,e){var n=[];return this.forEach(function(r){i(e)?n.push(u(r.getAttribute(t))):r.setAttribute(t,e)}),1===n.length&&(n=n[0]),i(e)?n:this},l.data=function(t){var e="data-";if("object"==typeof t)return o(t,function(n){this.attr(e+a(n),t[n])}.bind(this)),this;if(!i(t))return this.attr(e+a(t));var n=this.map(function(t){var n={};return r(t.attributes).forEach(function(t){t.name.substr(0,5)===e&&(n[s(t.name.slice(5))]=u(t.value))}),n});return 1===n.length&&(n=n[0]),n},l.remove=function(){return this.forEach(function(t){t.parentElement.removeChild(t)}),this},l.addClass=function(){var t=n(arguments);return this.forEach(function(e){e.classList.add.apply(e.classList,t)}),this},l.removeClass=function(){var t=n(arguments);return this.forEach(function(e){e.classList.remove.apply(e.classList,t)}),this},l.hasClass=function(t){var e=!0,n=this.map(function(n){var r=n.classList.contains(t);return r||(e=r),r});return e?n=e:1===n.length&&(n=n[0]),n},l.toggleClass=function(t){return this.forEach(function(e){e.classList.toggle(t)}),this};var p=function(){return function(t){var e=(new DOMParser).parseFromString(t,"text/html");return new d(e).find("body > *")}},m=function(){return function(t,e,n){function r(t){var e=t.responseText;if("auto"===a.dataType){var n=t.getResponseHeader("Content-Type").split(/;/)[0];switch(n){case"text/html":a.dataType="html";break;case"application/json":a.dataType="json";break;case"text/plain":a.dataType="text"}}switch(a.dataType){case"html":return(new p)(e);case"json":return JSON.parse(e);case"text":default:return e}}var a={method:t.method.toUpperCase()||"GET",body:i(t.body)?null:t.body,timeout:t.timeout||1e4,dataType:t.dataType||"auto"},s=new XMLHttpRequest;return"GET"===a.method&&t.params&&(t.url.match(/\?/)?t.url+="&":t.url+="?",t.url+=Object.keys(t.params).map(function(e){return e+"="+encodeURIComponent(t.params[e])}).join("&")),s.open(a.method,t.url,!0,t.user,t.password),s.timeout=a.timeout,t.form?(s.setRequestHeader("Content-Type","multipart/form-data; charset=UTF-8"),null===a.body&&(a.body=new FormData(new d(t.form)[0]))):"POST"!==a.method&&"PUT"!==a.method||null!==a.body||!t.params||(s.setRequestHeader("Content-Type","application/json; charset=UTF-8"),a.body=JSON.stringify(t.params)),t.headers&&o(t.headers,function(e){s.setRequestHeader(e,t.headers[e])}),t.overrideMimeType&&s.overrideMimeType(t.overrideMimeType),t.beforeSend&&t.beforeSend(s),s.send(a.body),s.onreadystatechange=function(){4===s.readyState&&(200===s.status&&e?e(s,r(s)):n&&n(s))},this}},y=function(t){return new d(t)};return y.ajax=new m,y.create=new p,y.proto=l,y.version="0.3.1",f&&(y.supported=f.good),y});